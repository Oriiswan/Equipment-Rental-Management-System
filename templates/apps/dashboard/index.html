{% extends "base.html" %}
{% block 'nav' %}Dashboard{% endblock 'nav' %}
{% block 'content' %}

<div class='p-3'>
  <div  class='grid grid-cols-4 gap-4'>
   
    <div class='bg-gradient-to-br from-blue-700 to-blue-400 h-[180px] rounded-2xl pl-7 py-4 text-white hover:shadow-xl hover:translate-y-[-1px] cursor-pointer'>
      <p class='font-semibold'>Ongoing Rentals</p>
      <h2 class='text-[55px] font-sans  leading-[.9]'>{{active_count}}</h2>
      
      <p class='text-[13px] mb-5 mt-2'>Currently Active</p>
      <p class='text-[13px]'>+ 15% from last month</p>
    </div>
   
    <div class='bg-gradient-to-br from-green-600 to-green-400 h-[180px] rounded-2xl pl-7 py-3 text-white hover:shadow-xl hover:translate-y-[-1px] cursor-pointer'>
      <p class='font-semibold'>Upcoming Bookings</p>
   
      <h2 class='text-[55px] font-sans  leading-[.9]'>{{pending_count}}</h2>
      <p class='text-[13px] mb-5 mt-2'>Next 7 Days</p>
      <p class='text-[13px]'>3 require confirmation</p>
    </div>
   
    <div class='bg-gradient-to-br from-violet-700 to-violet-400 h-[180px] rounded-2xl pl-7 py-3 text-white hover:shadow-xl hover:translate-y-[-1px] cursor-pointer'>
      <p class='font-semibold'>Monthly Revenue</p>
      <h2 class='text-[55px] font-sans  leading-[.9]'>{% if total >= 10000 %} ₱{{total|stringformat:"s"|slice:":2"}}K {% else %} ₱{{total}} {% endif %}</h2>
      <p class='text-[13px] mb-5 mt-2'>This Month</p>
      <p class='text-[13px]'>+23% from last month</p>
    </div>

    <div class='bg-gradient-to-br from-red-700 to-red-400 h-[180px] rounded-xl pl-7 py-3 text-white hover:shadow-xl hover:translate-y-[-1px] cursor-pointer'>
      <p class='font-semibold'>Overdue Returns</p>

      <h2 class='text-[55px] font-sans  leading-[.9]'>{{overdue_count}}</h2>
      <p class='text-[13px] mb-5 mt-2'>Requires Attention</p>
      <p class='text-[13px]'>Follow up needed</p>
    </div>
  </div>

  <div class='grid grid-cols-2 gap-4 mt-10 '>
    <div class='shadow-lg h-[466px] border border-gray-200 rounded-xl pr-7 pl-7 py-4 bg-white'>
      <div class='text-2xl mb-5 font-semibold'>Recent Activity</div>
      <div class='grid grid-row-4 gap-3 ml-5'>
    {% for activity in recent_activities  %}
        <div class='flex items-center justify-between'>
          <div class='flex items-center'>
            <div class="{% if activity.status == 'Active' %}bg-green-400 {% elif activity.status == 'Overdue' %} bg-red-400 {% elif activity.status == 'Returned' %} bg-blue-400 {% elif activity.status == 'Pending' %} bg-orange-400{% endif %} h-3 w-3 rounded-full mr-5"></div>
          <div class='text-[15px] leading-[1.3]'>
            <p>New rental started</p>
            <p class='text-[13px] text-gray-400'>{% if activity.status == 'Active' %}{{activity.fullname}} rented {{activity.equipment_name}}{% elif activity.status == 'Overdue' %} {{activity.fullname}}'s rent is overdue  {% elif activity.status == 'Pending' %} {{activity.fullname}} rented {{activity.equipment_name}} {% endif %} </p>
          </div>
        </div>
          <div class='text-gray-400 text-sm'>{{activity.created_display}} </div>
          
        </div>
    {% endfor %}

         
      </div>
    </div>
    
     <div class='shadow-lg  border border-gray-200 rounded-xl pr-7 pl-7 py-4 pb-10 bg-white'>
      <div class='text-2xl mb-5 font-semibold'>Equipment Overview</div>
      
      <div class='grid grid-cols-2 gap-4'>
        <div class='bg-sky-50  shadow-sm  p-3 pl-5 rounded-md'>
          <p>Total Equipment</p>
          
          <h2 class='text-4xl font-semibold leading-8 mb-3'>{{count}}</h2>
          <p class='text-green-500 font-medium'>{{available}} Available</p>
        </div>
        <div class='bg-sky-50  shadow-sm  p-3 pl-5 rounded-md'>
          <p>Categories</p>
      
          <h2 class='text-4xl  leading-8 mb-3'>{{category}}</h2>
          <p class='text-gray-300 '>Power Tools, Hand Tools</p>
        </div>
      </div>

      <div class='text-lg font-medium mt-5 mb-3'>Most Popular Equipment</div>
      <div class='grid grid-rows-4 gap-3 w-full'>
        <div class='bg-sky-50 rounded-md h-8 w-full flex justify-between items-center'>
          <div class='w-[76%]  rounded-md pl-2 text-[14px] font-semibold text-white flex items-center h-full bg-blue-600 text-center'>
            Evr
          </div>
          <p class='mr-2'>76%</p>
        </div>
        <div class='bg-sky-50 rounded-md h-8 w-full flex justify-between items-center'>
          <div class='w-[60%]  rounded-md pl-2 text-[14px] font-semibold text-white flex items-center h-full bg-green-500 text-center'>
            Drones
          </div>
          <p class='mr-2'>60%</p>
        </div>

        <div class='bg-sky-50 rounded-md h-8 w-full flex justify-between items-center'>
          <div class='w-[40%]  rounded-md pl-2 text-[14px] font-semibold text-white flex items-center h-full bg-violet-500 text-center'>
            Cameras
          </div>
          <p class='mr-2'>40%</p>
        </div>

        <div class='bg-sky-50 rounded-md h-8 w-full flex justify-between items-center'>
          <div class='w-[30%]  rounded-md pl-2 text-[14px] font-semibold text-white flex items-center h-full bg-red-500 text-center'>
            Impact Driver
          </div>
          <p class='mr-2'>30%</p>
        </div>
      </div>
    </div>
  
</div>
{% endblock 'content' %}

